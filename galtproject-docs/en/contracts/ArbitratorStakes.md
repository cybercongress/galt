# Arbtrator Multisig with spend limits

* Размер средств, которые можно потратить на мультисиге арбитраторов ограничен размером залогов текущих арбитраторов.
* Ограничения применимы только к GALT токенам. ETH, другие ERC20 токены и прочие реестры, в которых адрес мультисига наделен какими-либо правами ограничений на расход средств не имеют.
* Gnosis MultiSig не решает нашей задачи, т.к. его лимиты рассчитаны на работу с ETH.
* Владелец (Owner) у контракта ArbitratorStakes отсутствует
* Роль, имеющая право на управление ролями в контракте ArbitratorStakes отзывается фабрикой сразу после его настройки.
* Контракт разворачивается фабрикой арбитраторов

## Расчет ограничений

* Текущий ID периода определяется как ID = (currentTimestamp - initialTimestamp) / periodLength
* Сумма расходов за Период не может превышать лимит. (Accumulated <= limit)
* Данные аккумулятора (accumulated) учитываются как mapping(periodID => totalSpend)
* Данные для лимита (limit) учитываются аналогичным образом mapping(periodID => limit)
* Для выполнения расходной операции выполняются следующие проверки:
    * Не превышен лимит (accumulated <= limit)
    * Флаг актуальности данных должен быть выставлен в true
* Длина периода задается при создании контрактов арбитраторов и не может изменяться
* Сделать и перезаписать снимок текущей суммы залогов (лимита) может неавторизованный адрес в любой момент. Примеры необходимости пересчета:
    * При смене списка арбитраторов
    * При наступлении нового периода, когда лимит равен 0
* Перезапись арбитраторов устанавливает флаг актуальности данных в false

## Пополнение залогов арбитаторов

* Размер залога устанавливается кем???
* Пополнение залога происходит на контракте ArbitratorStakes, средства хранятся на общем контракте MultiSig
* Арбитратор не может быть добавлен в MultiSig, если его stake не превышает необходимый порог - транзакция пуша арбитраторов в мультисиг ревертится

## Добровольный выход арбитратора

* Что для этого необходимо сделать?
* Как переформировывается список?
* Как возвращается залог?

## Прочее
* Экстренный отзыв арбитраторов???

## Альтернативные решения проблемы
* После созданию любая транзакция от мультисига может быть выполнена через N дней.
    * Для немедленного выполнения необходимо, чтобы это предложение набрало подтверждения от 70% владельцев репутации(делегатов)
    * Для отмены выполнения необходимо, чтобы это предложение набрало подтверждения от 50% владельцев репутации(делегатов)
